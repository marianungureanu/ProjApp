<?xml version="1.0" encoding="windows-1252"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>Vacant Position Config</title>
    </h:head>
    <h:body>
        <h3>
            <h:outputText value="Editing application" rendered="#{applicationMBean.isEdit}"/>
            <h:outputText value="Create new application" rendered="#{applicationMBean.isCreate}"/>
        </h3>

        <br/>
        <f:view>
            <h:form id="applicationRoleCreateOrEdit" class="appform">

                <table>
                    <tr>
                        <td><label>Name:</label></td>
                        <td><h:inputText  value="#{applicationMBean.selected.name}" class="inputn"/></td>
                    </tr>
                    <tr>
                        <td><label>Description:</label></td>
                        <td><h:inputTextarea value="#{applicationMBean.selected.description}" rows="7" cols="60" class="inputd"/></td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <ui:repeat value="#{applicationMBean.selected.roles}" var="arole">
                                <table style="border: 0">
                                    <tr><td class="noborder">
                                            Role: <h:selectOneMenu value="#{arole.role.id}">
                                                <f:selectItems value="#{roleMBean.rolesWithFirstEmpty}" var="roleDto" itemLabel="#{roleDto.name}" itemValue="#{roleDto.id}" />
                                            </h:selectOneMenu>
                                        </td>
                                        <td class="noborder">
                                            Technologies/ Skills:
                                            <ui:repeat value="#{arole.technologies}"  var="atech">
                                                <br/>
                                                <h:selectOneMenu value="#{atech.technology.id}">
                                                    <f:selectItems value="#{technologyMBean.technologiesWithFirstEmpty}" var="tehchnologyDto" itemLabel="#{tehchnologyDto.name}" itemValue="#{tehchnologyDto.id}" />
                                                </h:selectOneMenu>
                                                :
                                                <h:selectOneMenu value="#{atech.minLevel.id}">
                                                    <f:selectItems value="#{levelMBean.levelsWithFirstEmpty}" var="levelDto" itemLabel="#{levelDto.name}" itemValue="#{levelDto.id}" />
                                                </h:selectOneMenu>

                                            </ui:repeat>
                                        </td></tr></table>
                            </ui:repeat>
                            <h:commandButton value="New role"  action="#{applicationMBean.newRole}"  class="cbutton"/>
                        </td>
                    </tr>
                    <tr><td colspan="2" class="noborder">
                            <div align="right">
                                <h:commandButton value="Edit"   action="#{applicationMBean.edit}"   rendered="#{applicationMBean.isEdit}" class="ebutton"/>
                                <h:commandButton value="Create" action="#{applicationMBean.create}" rendered="#{applicationMBean.isCreate}" class="cbutton"/>
                                <h:commandButton value="Go Back" action="#{applicationMBean.startIndex}" type="submit" class="rbutton"/>
                                <div class="separator"> </div>
                            </div>
                        </td>
                    </tr>
                </table>

                <br/>
            </h:form>
        </f:view> 
    </h:body>
</html>
